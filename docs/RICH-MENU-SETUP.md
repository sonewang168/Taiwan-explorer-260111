# 🎨 Rich Menu 六宮格設定指南

LINE Bot 的 Rich Menu 讓用戶可以直接點擊按鈕使用功能，不需要記住指令。

---

## 📐 六宮格設計

```
┌─────────────┬─────────────┬─────────────┐
│             │             │             │
│   📍 打卡   │   📊 進度   │   📷 相簿   │
│             │             │             │
├─────────────┼─────────────┼─────────────┤
│             │             │             │
│   📝 紀錄   │  🔗 Google  │  🌐 網頁版  │
│             │             │             │
└─────────────┴─────────────┴─────────────┘
```

### 功能對應

| 位置 | 圖示 | 功能 | 動作 |
|------|------|------|------|
| 左上 | 📍 | 打卡 | 發送「附近」文字 |
| 中上 | 📊 | 進度 | 發送「進度」文字 |
| 右上 | 📷 | 相簿 | 發送「相簿」文字 |
| 左下 | 📝 | 紀錄 | 發送「文件」文字 |
| 中下 | 🔗 | Google | 發送「連動Google」文字 |
| 右下 | 🌐 | 網頁版 | 開啟網頁 URL |

---

## 🚀 自動設定（推薦）

### 方法一：執行設定腳本

```bash
# 設定環境變數
export LINE_CHANNEL_ACCESS_TOKEN=你的token
export LINE_CHANNEL_SECRET=你的secret
export WEB_URL=https://your-app.onrender.com

# 執行設定
npm run setup:richmenu
```

成功輸出：
```
🚀 開始設定 Rich Menu...

📋 檢查現有 Rich Menu...
   找到 0 個現有選單

📝 建立新 Rich Menu...
   ✅ 已建立: richmenu-xxxxxxxxx

🎨 產生選單圖片...
   💾 已儲存到: assets/rich-menu.png

📤 上傳圖片到 LINE...
   ✅ 上傳成功

⭐ 設定為預設選單...
   ✅ 已設為預設

🎉 Rich Menu 設定完成！
```

### 方法二：部署時自動設定

在 `server/index-v2.js` 中，當用戶加入好友時會自動設定 Rich Menu。

---

## 🖌️ 手動設定（使用 LINE Official Account Manager）

如果自動設定失敗，可以手動設定：

### Step 1: 準備圖片

1. 開啟 `assets/rich-menu.svg`
2. 使用線上工具轉換成 PNG：
   - [Convertio](https://convertio.co/svg-png/)
   - [CloudConvert](https://cloudconvert.com/svg-to-png)
3. 確保尺寸為 **2500 x 1686** 像素

或者使用 Figma/Photoshop 自己設計：

**尺寸規格：**
- 整體：2500 x 1686 像素
- 每格：833 x 843 像素

### Step 2: 登入 LINE Official Account Manager

1. 前往 [LINE Official Account Manager](https://manager.line.biz/)
2. 選擇你的官方帳號
3. 點擊左側選單 `聊天室相關` → `圖文選單`

### Step 3: 建立圖文選單

1. 點擊 `建立`
2. 基本設定：
   - **標題**: `探險選單`
   - **使用期間**: 設定為未來很長的時間
3. 內容設定：
   - **範本**: 選擇「大型 - 六格」
   - **圖片**: 上傳準備好的 PNG
4. 動作設定：

| 區塊 | 類型 | 內容 |
|------|------|------|
| A（左上） | 文字 | `附近` |
| B（中上） | 文字 | `進度` |
| C（右上） | 文字 | `相簿` |
| D（左下） | 文字 | `文件` |
| E（中下） | 文字 | `連動Google` |
| F（右下） | 連結 | `https://your-app.onrender.com` |

5. 選單列設定：
   - **選單列文字**: `📍 探險選單`
   - **預設顯示**: 開啟

6. 點擊 `儲存`

---

## 🎨 自訂設計

### 使用 SVG 模板

`assets/rich-menu.svg` 是 SVG 格式，你可以用任何向量繪圖軟體編輯：

- Adobe Illustrator
- Inkscape（免費）
- Figma（線上免費）

### 設計建議

1. **色彩配置**
   - 背景：深色（#1a1a2e）
   - 主色：金色（#f4d03f）
   - 強調：各按鈕使用不同色系

2. **圖示風格**
   - 建議使用 Emoji 或簡單 icon
   - 確保在手機上清晰可見

3. **文字大小**
   - 標籤文字至少 72px
   - 圖示 140-160px

4. **對比度**
   - 確保文字和背景有足夠對比
   - 按鈕區域要有明顯區隔

---

## 📱 測試

設定完成後：

1. 重新開啟與 Bot 的對話
2. 應該在鍵盤上方看到選單
3. 點擊每個按鈕測試功能
4. 如果沒看到，點擊聊天室底部的「選單」按鈕

---

## ❓ 常見問題

### Q: 選單沒有顯示？

**A:** 檢查：
1. 是否設為「預設顯示」
2. 使用期間是否正確
3. 嘗試重新關注 Bot

### Q: 圖片上傳失敗？

**A:** 確認：
1. 圖片格式為 PNG 或 JPEG
2. 尺寸正確（2500 x 1686）
3. 檔案大小 < 1MB

### Q: 按鈕沒反應？

**A:** 確認：
1. 動作設定正確
2. 文字沒有多餘空格
3. URL 格式正確（需含 https://）

---

## 📊 Rich Menu 規格

| 項目 | 限制 |
|------|------|
| 圖片尺寸 | 2500x1686 或 2500x843 像素 |
| 圖片格式 | PNG 或 JPEG |
| 檔案大小 | 最大 1MB |
| 動作區域 | 最多 20 個 |
| 選單數量 | 每個帳號最多 1000 個 |

---

設定完成後，你的 LINE Bot 就有專業的圖文選單了！🎉
